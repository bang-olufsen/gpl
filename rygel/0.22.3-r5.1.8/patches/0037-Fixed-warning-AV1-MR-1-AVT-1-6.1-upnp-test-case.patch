From b261c1633fa933016e0cfee30860b197313fc6bc Mon Sep 17 00:00:00 2001
From: Simon Mikuda <simon.mikuda@streamunlimited.com>
Date: Mon, 23 Feb 2015 13:18:54 +0100
Subject: [PATCH] Fixed warning AV1-MR:1-AVT:1-6.1 upnp test case

Use uppercase for PossiblePlaybackStorageMedia values

Signed-off-by: Simon Mikuda <simon.mikuda@streamunlimited.com>
---
 data/xml/AVTransport2.xml.in                  |   4 +-
 src/librygel-renderer/rygel-av-transport.c    | 240 ++++++++++++++------------
 src/librygel-renderer/rygel-av-transport.vala |  10 +-
 3 files changed, 141 insertions(+), 113 deletions(-)

diff --git a/data/xml/AVTransport2.xml.in b/data/xml/AVTransport2.xml.in
index 7b0e27c..53eee05 100644
--- a/data/xml/AVTransport2.xml.in
+++ b/data/xml/AVTransport2.xml.in
@@ -568,8 +568,8 @@
          <name>PossiblePlaybackStorageMedia</name>
          <dataType>string</dataType>
          <allowedValueList>
-             <allowedValue>None</allowedValue>
-             <allowedValue>Network</allowedValue>
+             <allowedValue>NONE</allowedValue>
+             <allowedValue>NETWORK</allowedValue>
          </allowedValueList>
       </stateVariable>
 
diff --git a/src/librygel-renderer/rygel-av-transport.c b/src/librygel-renderer/rygel-av-transport.c
index e20e893..a0f1083 100644
--- a/src/librygel-renderer/rygel-av-transport.c
+++ b/src/librygel-renderer/rygel-av-transport.c
@@ -304,6 +304,7 @@ enum  {
 	RYGEL_AV_TRANSPORT_DUMMY_PROPERTY,
 	RYGEL_AV_TRANSPORT_STATUS,
 	RYGEL_AV_TRANSPORT_PLAYBACK_MEDIUM,
+	RYGEL_AV_TRANSPORT_POSSIBLE_PLAYBACK_MEDIA,
 	RYGEL_AV_TRANSPORT_SPEED,
 	RYGEL_AV_TRANSPORT_MODE
 };
@@ -381,6 +382,7 @@ const gchar* rygel_player_controller_interface_get_playback_state (RygelPlayerCo
 gchar* rygel_player_controller_interface_get_current_transport_actions (RygelPlayerControllerInterface* self);
 const gchar* rygel_av_transport_get_status (RygelAVTransport* self);
 const gchar* rygel_av_transport_get_playback_medium (RygelAVTransport* self);
+const gchar* rygel_av_transport_get_possible_playback_media (RygelAVTransport* self);
 const gchar* rygel_av_transport_get_mode (RygelAVTransport* self);
 gchar* rygel_media_player_get_playback_speed (RygelMediaPlayer* self);
 guint rygel_player_controller_interface_get_n_tracks (RygelPlayerControllerInterface* self);
@@ -741,50 +743,52 @@ static void rygel_av_transport_query_last_change_cb (RygelAVTransport* self, GUP
 	const gchar* _tmp11_ = NULL;
 	const gchar* _tmp12_ = NULL;
 	const gchar* _tmp13_ = NULL;
-	RygelMediaPlayer* _tmp14_ = NULL;
-	gchar* _tmp15_ = NULL;
-	gchar* _tmp16_ = NULL;
+	const gchar* _tmp14_ = NULL;
+	const gchar* _tmp15_ = NULL;
+	RygelMediaPlayer* _tmp16_ = NULL;
 	gchar* _tmp17_ = NULL;
-	RygelPlayerControllerInterface* _tmp18_ = NULL;
-	guint _tmp19_ = 0U;
-	guint _tmp20_ = 0U;
-	gchar* _tmp21_ = NULL;
-	gchar* _tmp22_ = NULL;
-	RygelPlayerControllerInterface* _tmp23_ = NULL;
-	guint _tmp24_ = 0U;
-	guint _tmp25_ = 0U;
-	gchar* _tmp26_ = NULL;
-	gchar* _tmp27_ = NULL;
-	RygelMediaPlayer* _tmp28_ = NULL;
+	gchar* _tmp18_ = NULL;
+	gchar* _tmp19_ = NULL;
+	RygelPlayerControllerInterface* _tmp20_ = NULL;
+	guint _tmp21_ = 0U;
+	guint _tmp22_ = 0U;
+	gchar* _tmp23_ = NULL;
+	gchar* _tmp24_ = NULL;
+	RygelPlayerControllerInterface* _tmp25_ = NULL;
+	guint _tmp26_ = 0U;
+	guint _tmp27_ = 0U;
+	gchar* _tmp28_ = NULL;
 	gchar* _tmp29_ = NULL;
-	gchar* _tmp30_ = NULL;
+	RygelMediaPlayer* _tmp30_ = NULL;
 	gchar* _tmp31_ = NULL;
-	RygelMediaPlayer* _tmp32_ = NULL;
+	gchar* _tmp32_ = NULL;
 	gchar* _tmp33_ = NULL;
-	gchar* _tmp34_ = NULL;
+	RygelMediaPlayer* _tmp34_ = NULL;
 	gchar* _tmp35_ = NULL;
-	RygelPlayerControllerInterface* _tmp36_ = NULL;
-	const gchar* _tmp37_ = NULL;
-	const gchar* _tmp38_ = NULL;
-	RygelPlayerControllerInterface* _tmp39_ = NULL;
+	gchar* _tmp36_ = NULL;
+	gchar* _tmp37_ = NULL;
+	RygelPlayerControllerInterface* _tmp38_ = NULL;
+	const gchar* _tmp39_ = NULL;
 	const gchar* _tmp40_ = NULL;
-	const gchar* _tmp41_ = NULL;
-	RygelPlayerControllerInterface* _tmp42_ = NULL;
-	gchar* _tmp43_ = NULL;
-	gchar* _tmp44_ = NULL;
+	RygelPlayerControllerInterface* _tmp41_ = NULL;
+	const gchar* _tmp42_ = NULL;
+	const gchar* _tmp43_ = NULL;
+	RygelPlayerControllerInterface* _tmp44_ = NULL;
 	gchar* _tmp45_ = NULL;
-	RygelPlayerControllerInterface* _tmp46_ = NULL;
+	gchar* _tmp46_ = NULL;
 	gchar* _tmp47_ = NULL;
-	gchar* _tmp48_ = NULL;
+	RygelPlayerControllerInterface* _tmp48_ = NULL;
 	gchar* _tmp49_ = NULL;
-	RygelPlayerControllerInterface* _tmp50_ = NULL;
-	const gchar* _tmp51_ = NULL;
-	const gchar* _tmp52_ = NULL;
-	RygelPlayerControllerInterface* _tmp53_ = NULL;
+	gchar* _tmp50_ = NULL;
+	gchar* _tmp51_ = NULL;
+	RygelPlayerControllerInterface* _tmp52_ = NULL;
+	const gchar* _tmp53_ = NULL;
 	const gchar* _tmp54_ = NULL;
-	const gchar* _tmp55_ = NULL;
-	gchar* _tmp56_ = NULL;
-	gchar* _tmp57_ = NULL;
+	RygelPlayerControllerInterface* _tmp55_ = NULL;
+	const gchar* _tmp56_ = NULL;
+	const gchar* _tmp57_ = NULL;
+	gchar* _tmp58_ = NULL;
+	gchar* _tmp59_ = NULL;
 	g_return_if_fail (self != NULL);
 	g_return_if_fail (service != NULL);
 	g_return_if_fail (variable != NULL);
@@ -808,79 +812,81 @@ static void rygel_av_transport_query_last_change_cb (RygelAVTransport* self, GUP
 	_tmp11_ = _tmp10_;
 	rygel_change_log_log (log, "PlaybackStorageMedium", _tmp11_);
 	rygel_change_log_log (log, "RecordStorageMedium", "NOT_IMPLEMENTED");
-	rygel_change_log_log (log, "PossiblePlaybackStorageMedia", "None,Network");
-	rygel_change_log_log (log, "PossibleRecordStorageMedia", "NOT_IMPLEMENTED");
-	_tmp12_ = rygel_av_transport_get_mode (self);
+	_tmp12_ = rygel_av_transport_get_possible_playback_media (self);
 	_tmp13_ = _tmp12_;
-	rygel_change_log_log (log, "CurrentPlayMode", _tmp13_);
-	_tmp14_ = self->priv->player;
-	_tmp15_ = rygel_media_player_get_playback_speed (_tmp14_);
-	_tmp16_ = _tmp15_;
-	_tmp17_ = _tmp16_;
-	rygel_change_log_log (log, "TransportPlaySpeed", _tmp17_);
-	_g_free0 (_tmp17_);
+	rygel_change_log_log (log, "PossiblePlaybackStorageMedia", _tmp13_);
+	rygel_change_log_log (log, "PossibleRecordStorageMedia", "NOT_IMPLEMENTED");
+	_tmp14_ = rygel_av_transport_get_mode (self);
+	_tmp15_ = _tmp14_;
+	rygel_change_log_log (log, "CurrentPlayMode", _tmp15_);
+	_tmp16_ = self->priv->player;
+	_tmp17_ = rygel_media_player_get_playback_speed (_tmp16_);
+	_tmp18_ = _tmp17_;
+	_tmp19_ = _tmp18_;
+	rygel_change_log_log (log, "TransportPlaySpeed", _tmp19_);
+	_g_free0 (_tmp19_);
 	rygel_change_log_log (log, "RecordMediumWriteStatus", "NOT_IMPLEMENTED");
 	rygel_change_log_log (log, "CurrentRecordQualityMode", "NOT_IMPLEMENTED");
 	rygel_change_log_log (log, "PossibleRecordQualityModes", "NOT_IMPLEMENTED");
-	_tmp18_ = self->priv->controller;
-	_tmp19_ = rygel_player_controller_interface_get_n_tracks (_tmp18_);
-	_tmp20_ = _tmp19_;
-	_tmp21_ = g_strdup_printf ("%u", _tmp20_);
+	_tmp20_ = self->priv->controller;
+	_tmp21_ = rygel_player_controller_interface_get_n_tracks (_tmp20_);
 	_tmp22_ = _tmp21_;
-	rygel_change_log_log (log, "NumberOfTracks", _tmp22_);
-	_g_free0 (_tmp22_);
-	_tmp23_ = self->priv->controller;
-	_tmp24_ = rygel_player_controller_interface_get_track (_tmp23_);
-	_tmp25_ = _tmp24_;
-	_tmp26_ = g_strdup_printf ("%u", _tmp25_);
+	_tmp23_ = g_strdup_printf ("%u", _tmp22_);
+	_tmp24_ = _tmp23_;
+	rygel_change_log_log (log, "NumberOfTracks", _tmp24_);
+	_g_free0 (_tmp24_);
+	_tmp25_ = self->priv->controller;
+	_tmp26_ = rygel_player_controller_interface_get_track (_tmp25_);
 	_tmp27_ = _tmp26_;
-	rygel_change_log_log (log, "CurrentTrack", _tmp27_);
-	_g_free0 (_tmp27_);
-	_tmp28_ = self->priv->player;
-	_tmp29_ = rygel_media_player_get_duration_as_str (_tmp28_);
-	_tmp30_ = _tmp29_;
-	_tmp31_ = _tmp30_;
-	rygel_change_log_log (log, "CurrentTrackDuration", _tmp31_);
-	_g_free0 (_tmp31_);
-	_tmp32_ = self->priv->player;
-	_tmp33_ = rygel_media_player_get_duration_as_str (_tmp32_);
-	_tmp34_ = _tmp33_;
-	_tmp35_ = _tmp34_;
-	rygel_change_log_log (log, "CurrentMediaDuration", _tmp35_);
-	_g_free0 (_tmp35_);
-	_tmp36_ = self->priv->controller;
-	_tmp37_ = rygel_player_controller_interface_get_uri (_tmp36_);
-	_tmp38_ = _tmp37_;
-	rygel_change_log_log (log, "AVTransportURI", _tmp38_);
-	_tmp39_ = self->priv->controller;
-	_tmp40_ = rygel_player_controller_interface_get_metadata (_tmp39_);
-	_tmp41_ = _tmp40_;
-	rygel_change_log_log (log, "AVTransportURIMetaData", _tmp41_);
-	_tmp42_ = self->priv->controller;
-	_tmp43_ = rygel_player_controller_interface_get_track_uri (_tmp42_);
-	_tmp44_ = _tmp43_;
-	_tmp45_ = _tmp44_;
-	rygel_change_log_log (log, "CurrentTrackURI", _tmp45_);
-	_g_free0 (_tmp45_);
-	_tmp46_ = self->priv->controller;
-	_tmp47_ = rygel_player_controller_interface_get_track_metadata (_tmp46_);
-	_tmp48_ = _tmp47_;
-	_tmp49_ = _tmp48_;
-	rygel_change_log_log (log, "CurrentTrackMetaData", _tmp49_);
-	_g_free0 (_tmp49_);
-	_tmp50_ = self->priv->controller;
-	_tmp51_ = rygel_player_controller_interface_get_next_uri (_tmp50_);
-	_tmp52_ = _tmp51_;
-	rygel_change_log_log (log, "NextAVTransportURI", _tmp52_);
-	_tmp53_ = self->priv->controller;
-	_tmp54_ = rygel_player_controller_interface_get_next_metadata (_tmp53_);
-	_tmp55_ = _tmp54_;
-	rygel_change_log_log (log, "NextAVTransportURIMetaData", _tmp55_);
-	g_value_init (value, G_TYPE_STRING);
-	_tmp56_ = rygel_change_log_finish (log);
+	_tmp28_ = g_strdup_printf ("%u", _tmp27_);
+	_tmp29_ = _tmp28_;
+	rygel_change_log_log (log, "CurrentTrack", _tmp29_);
+	_g_free0 (_tmp29_);
+	_tmp30_ = self->priv->player;
+	_tmp31_ = rygel_media_player_get_duration_as_str (_tmp30_);
+	_tmp32_ = _tmp31_;
+	_tmp33_ = _tmp32_;
+	rygel_change_log_log (log, "CurrentTrackDuration", _tmp33_);
+	_g_free0 (_tmp33_);
+	_tmp34_ = self->priv->player;
+	_tmp35_ = rygel_media_player_get_duration_as_str (_tmp34_);
+	_tmp36_ = _tmp35_;
+	_tmp37_ = _tmp36_;
+	rygel_change_log_log (log, "CurrentMediaDuration", _tmp37_);
+	_g_free0 (_tmp37_);
+	_tmp38_ = self->priv->controller;
+	_tmp39_ = rygel_player_controller_interface_get_uri (_tmp38_);
+	_tmp40_ = _tmp39_;
+	rygel_change_log_log (log, "AVTransportURI", _tmp40_);
+	_tmp41_ = self->priv->controller;
+	_tmp42_ = rygel_player_controller_interface_get_metadata (_tmp41_);
+	_tmp43_ = _tmp42_;
+	rygel_change_log_log (log, "AVTransportURIMetaData", _tmp43_);
+	_tmp44_ = self->priv->controller;
+	_tmp45_ = rygel_player_controller_interface_get_track_uri (_tmp44_);
+	_tmp46_ = _tmp45_;
+	_tmp47_ = _tmp46_;
+	rygel_change_log_log (log, "CurrentTrackURI", _tmp47_);
+	_g_free0 (_tmp47_);
+	_tmp48_ = self->priv->controller;
+	_tmp49_ = rygel_player_controller_interface_get_track_metadata (_tmp48_);
+	_tmp50_ = _tmp49_;
+	_tmp51_ = _tmp50_;
+	rygel_change_log_log (log, "CurrentTrackMetaData", _tmp51_);
+	_g_free0 (_tmp51_);
+	_tmp52_ = self->priv->controller;
+	_tmp53_ = rygel_player_controller_interface_get_next_uri (_tmp52_);
+	_tmp54_ = _tmp53_;
+	rygel_change_log_log (log, "NextAVTransportURI", _tmp54_);
+	_tmp55_ = self->priv->controller;
+	_tmp56_ = rygel_player_controller_interface_get_next_metadata (_tmp55_);
 	_tmp57_ = _tmp56_;
-	g_value_set_string (value, _tmp57_);
-	_g_free0 (_tmp57_);
+	rygel_change_log_log (log, "NextAVTransportURIMetaData", _tmp57_);
+	g_value_init (value, G_TYPE_STRING);
+	_tmp58_ = rygel_change_log_finish (log);
+	_tmp59_ = _tmp58_;
+	g_value_set_string (value, _tmp59_);
+	_g_free0 (_tmp59_);
 	_g_object_unref0 (log);
 }
 
@@ -1476,7 +1482,9 @@ static void rygel_av_transport_get_device_capabilities_cb (RygelAVTransport* sel
 	GUPnPServiceAction* _tmp0_ = NULL;
 	gboolean _tmp1_ = FALSE;
 	GUPnPServiceAction* _tmp2_ = NULL;
-	GUPnPServiceAction* _tmp3_ = NULL;
+	const gchar* _tmp3_ = NULL;
+	const gchar* _tmp4_ = NULL;
+	GUPnPServiceAction* _tmp5_ = NULL;
 	g_return_if_fail (self != NULL);
 	g_return_if_fail (service != NULL);
 	g_return_if_fail (action != NULL);
@@ -1486,9 +1494,11 @@ static void rygel_av_transport_get_device_capabilities_cb (RygelAVTransport* sel
 		return;
 	}
 	_tmp2_ = action;
-	gupnp_service_action_set (_tmp2_, "PlayMedia", G_TYPE_STRING, "None,Network", "RecMedia", G_TYPE_STRING, "NOT_IMPLEMENTED", "RecQualityModes", G_TYPE_STRING, "NOT_IMPLEMENTED", NULL);
-	_tmp3_ = action;
-	gupnp_service_action_return (_tmp3_);
+	_tmp3_ = rygel_av_transport_get_possible_playback_media (self);
+	_tmp4_ = _tmp3_;
+	gupnp_service_action_set (_tmp2_, "PlayMedia", G_TYPE_STRING, _tmp4_, "RecMedia", G_TYPE_STRING, "NOT_IMPLEMENTED", "RecQualityModes", G_TYPE_STRING, "NOT_IMPLEMENTED", NULL);
+	_tmp5_ = action;
+	gupnp_service_action_return (_tmp5_);
 }
 
 
@@ -1698,7 +1708,7 @@ static void rygel_av_transport_seek_cb (RygelAVTransport* self, GUPnPService* se
 				_tmp8_ = rygel_time_utils_time_from_string (_tmp7_);
 				seek_target = _tmp8_;
 				_tmp9_ = seek_target;
-				g_debug ("rygel-av-transport.vala:518: Seeking to %lld sec", _tmp9_ / G_TIME_SPAN_SECOND);
+				g_debug ("rygel-av-transport.vala:524: Seeking to %lld sec", _tmp9_ / G_TIME_SPAN_SECOND);
 				_tmp10_ = self->priv->player;
 				_tmp11_ = rygel_media_player_get_can_seek (_tmp10_);
 				_tmp12_ = _tmp11_;
@@ -1764,7 +1774,7 @@ static void rygel_av_transport_seek_cb (RygelAVTransport* self, GUPnPService* se
 					seek_target = _tmp24_ + _tmp27_;
 				}
 				_tmp28_ = seek_target;
-				g_debug ("rygel-av-transport.vala:543: Seeking to %lld bytes.", _tmp28_);
+				g_debug ("rygel-av-transport.vala:549: Seeking to %lld bytes.", _tmp28_);
 				_tmp29_ = self->priv->player;
 				_tmp30_ = rygel_media_player_get_can_seek_bytes (_tmp29_);
 				_tmp31_ = _tmp30_;
@@ -1812,7 +1822,7 @@ static void rygel_av_transport_seek_cb (RygelAVTransport* self, GUPnPService* se
 				gint _tmp52_ = 0;
 				GUPnPServiceAction* _tmp53_ = NULL;
 				_tmp40_ = target;
-				g_debug ("rygel-av-transport.vala:561: Setting track to %s.", _tmp40_);
+				g_debug ("rygel-av-transport.vala:567: Setting track to %s.", _tmp40_);
 				_tmp41_ = target;
 				_tmp42_ = atoi (_tmp41_);
 				track = _tmp42_;
@@ -2692,7 +2702,7 @@ static void rygel_av_transport_check_resource (RygelAVTransport* self, SoupMessa
 		SoupSession* _tmp22_ = NULL;
 		SoupMessage* _tmp23_ = NULL;
 		SoupMessage* _tmp24_ = NULL;
-		g_debug ("rygel-av-transport.vala:768: Peer does not support HEAD, trying GET");
+		g_debug ("rygel-av-transport.vala:774: Peer does not support HEAD, trying GET");
 		_tmp20_ = msg;
 		g_object_set (_tmp20_, "method", "GET", NULL);
 		_tmp21_ = msg;
@@ -2763,7 +2773,7 @@ static void rygel_av_transport_check_resource (RygelAVTransport* self, SoupMessa
 		GUPnPServiceAction* _tmp53_ = NULL;
 		const gchar* _tmp54_ = NULL;
 		_tmp52_ = mime;
-		g_debug ("rygel-av-transport.vala:798: Unsupported mime type %s", _tmp52_);
+		g_debug ("rygel-av-transport.vala:804: Unsupported mime type %s", _tmp52_);
 		_tmp53_ = action;
 		_tmp54_ = _ ("Illegal MIME-type");
 		gupnp_service_action_return_error (_tmp53_, (guint) 714, _tmp54_);
@@ -3235,6 +3245,14 @@ const gchar* rygel_av_transport_get_playback_medium (RygelAVTransport* self) {
 }
 
 
+const gchar* rygel_av_transport_get_possible_playback_media (RygelAVTransport* self) {
+	const gchar* result;
+	g_return_val_if_fail (self != NULL, NULL);
+	result = "NONE,NETWORK";
+	return result;
+}
+
+
 gchar* rygel_av_transport_get_speed (RygelAVTransport* self) {
 	gchar* result;
 	RygelMediaPlayer* _tmp0_ = NULL;
@@ -3308,6 +3326,7 @@ static void rygel_av_transport_class_init (RygelAVTransportClass * klass) {
 	G_OBJECT_CLASS (klass)->finalize = rygel_av_transport_finalize;
 	g_object_class_install_property (G_OBJECT_CLASS (klass), RYGEL_AV_TRANSPORT_STATUS, g_param_spec_string ("status", "status", "status", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
 	g_object_class_install_property (G_OBJECT_CLASS (klass), RYGEL_AV_TRANSPORT_PLAYBACK_MEDIUM, g_param_spec_string ("playback-medium", "playback-medium", "playback-medium", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
+	g_object_class_install_property (G_OBJECT_CLASS (klass), RYGEL_AV_TRANSPORT_POSSIBLE_PLAYBACK_MEDIA, g_param_spec_string ("possible-playback-media", "possible-playback-media", "possible-playback-media", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
 	g_object_class_install_property (G_OBJECT_CLASS (klass), RYGEL_AV_TRANSPORT_SPEED, g_param_spec_string ("speed", "speed", "speed", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
 	g_object_class_install_property (G_OBJECT_CLASS (klass), RYGEL_AV_TRANSPORT_MODE, g_param_spec_string ("mode", "mode", "mode", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
 }
@@ -3360,6 +3379,9 @@ static void _vala_rygel_av_transport_get_property (GObject * object, guint prope
 		case RYGEL_AV_TRANSPORT_PLAYBACK_MEDIUM:
 		g_value_set_string (value, rygel_av_transport_get_playback_medium (self));
 		break;
+		case RYGEL_AV_TRANSPORT_POSSIBLE_PLAYBACK_MEDIA:
+		g_value_set_string (value, rygel_av_transport_get_possible_playback_media (self));
+		break;
 		case RYGEL_AV_TRANSPORT_SPEED:
 		g_value_take_string (value, rygel_av_transport_get_speed (self));
 		break;
diff --git a/src/librygel-renderer/rygel-av-transport.vala b/src/librygel-renderer/rygel-av-transport.vala
index ee60576..6c83c8b 100644
--- a/src/librygel-renderer/rygel-av-transport.vala
+++ b/src/librygel-renderer/rygel-av-transport.vala
@@ -65,6 +65,12 @@ internal class Rygel.AVTransport : Service {
         }
     }
 
+    public string possible_playback_media {
+        get {
+            return "NONE,NETWORK";
+        }
+    }
+
     public string speed {
         owned get {
             return this.player.playback_speed;
@@ -164,7 +170,7 @@ internal class Rygel.AVTransport : Service {
         log.log ("TransportStatus",              this.status);
         log.log ("PlaybackStorageMedium",        this.playback_medium);
         log.log ("RecordStorageMedium",          "NOT_IMPLEMENTED");
-        log.log ("PossiblePlaybackStorageMedia", "None,Network");
+        log.log ("PossiblePlaybackStorageMedia", this.possible_playback_media);
         log.log ("PossibleRecordStorageMedia",   "NOT_IMPLEMENTED");
         log.log ("CurrentPlayMode",              this.mode);
         log.log ("TransportPlaySpeed",           this.player.playback_speed);
@@ -424,7 +430,7 @@ internal class Rygel.AVTransport : Service {
 
         action.set ("PlayMedia",
                         typeof (string),
-                        "None,Network",
+                        this.possible_playback_media,
                     "RecMedia",
                         typeof (string),
                         "NOT_IMPLEMENTED",
-- 
1.9.1

