From 0a734bb6a8398e46581c851113fa1ff042757c19 Mon Sep 17 00:00:00 2001
From: Marek Belisko <marek.belisko@streamunlimited.com>
Date: Mon, 18 May 2015 09:22:54 +0200
Subject: [PATCH] stream800: Add support for CA6 model

Signed-off-by: Marek Belisko <marek.belisko@streamunlimited.com>
---
 board/streamunlimited/stream800/board.c         | 5 +++++
 board/streamunlimited/stream800/board_defines.c | 3 +++
 board/streamunlimited/stream800/board_defines.h | 1 +
 3 files changed, 9 insertions(+)

diff --git a/board/streamunlimited/stream800/board.c b/board/streamunlimited/stream800/board.c
index 6dc3221..6d1ab9f 100755
--- a/board/streamunlimited/stream800/board.c
+++ b/board/streamunlimited/stream800/board.c
@@ -162,6 +162,7 @@ int board_init(void)
 			break;
 		case CBT_BeoASE_A9MK2:
 		case CBT_BeoASE_EZ2MK2:
+		case CBT_BeoASE_CA6:
 			beo_ase__set_board_interface();
 			beo_ase__set_ase_fep(fep_instance());
 			break;
@@ -374,6 +375,9 @@ int board_late_init(void)
 		case CBT_BeoASE_EZ2MK2:
 			setenv("board_conf", "#conf@2");
 			break;
+		case CBT_BeoASE_CA6:
+			setenv("board_conf", "#conf@3");
+			break;
 		default:
 			setenv("board_conf", "");
 			break;
@@ -437,6 +441,7 @@ int board_late_init(void)
 			break;
 		case CBT_BeoASE_A9MK2:
 		case CBT_BeoASE_EZ2MK2:
+		case CBT_BeoASE_CA6:
 			break;
 
 		// CUSTOMIZE: Add your board here
diff --git a/board/streamunlimited/stream800/board_defines.c b/board/streamunlimited/stream800/board_defines.c
index c8a03d4..6f07889 100644
--- a/board/streamunlimited/stream800/board_defines.c
+++ b/board/streamunlimited/stream800/board_defines.c
@@ -22,6 +22,7 @@ const char *stream800CarrierBoardTypeStrings[] = {
 	[CBT_SueHighendDemoClientBoard]	= "SUE highend demo client board",
 	[CBT_BeoASE_A9MK2]		= "B&O ASE A9MK2 board",
 	[CBT_BeoASE_EZ2MK2]		= "B&O ASE EZ2MK2 board",
+	[CBT_BeoASE_CA6]		= "B&O ASE CA6 board",
 };
 
 const char *boardStateStrings[] = {
@@ -99,6 +100,8 @@ void board_detect(struct Stream800Board *board)
 			board->carrierBoardType = CBT_BeoASE_A9MK2;
 		} else if (version.productId == ez2mk2) {
 			board->carrierBoardType = CBT_BeoASE_EZ2MK2;
+		} else if (version.productId == ca6 ) {
+			board->carrierBoardType = CBT_BeoASE_CA6;
 		}
 
 		/*
diff --git a/board/streamunlimited/stream800/board_defines.h b/board/streamunlimited/stream800/board_defines.h
index c4416e1..dabb885 100644
--- a/board/streamunlimited/stream800/board_defines.h
+++ b/board/streamunlimited/stream800/board_defines.h
@@ -29,6 +29,7 @@ typedef enum {
 	CBT_SueHighendDemoClientBoard,		///< SUE highend demo client
 	CBT_BeoASE_A9MK2,
 	CBT_BeoASE_EZ2MK2,
+	CBT_BeoASE_CA6,
 } Stream800CarrierBoardType;
 
 extern const char *stream800CarrierBoardTypeStrings[];
-- 
2.7.4

